import{_ as i,c as a,o as n,s as l}from"./chunks/framework.C0aFDVig.js";const c=JSON.parse('{"title":"全局“#”改为“序号”","description":"","frontmatter":{},"headers":[{"level":1,"title":"全局“#”改为“序号”","slug":"全局-改为-序号","link":"#全局-改为-序号","children":[]},{"level":1,"title":"删除无用的参数","slug":"删除无用的参数","link":"#删除无用的参数","children":[]},{"level":1,"title":"字典","slug":"字典","link":"#字典","children":[]},{"level":1,"title":"表格错位问题","slug":"表格错位问题","link":"#表格错位问题","children":[]},{"level":1,"title":"如何不登录，进入某页面（开发阶段）","slug":"如何不登录-进入某页面-开发阶段","link":"#如何不登录-进入某页面-开发阶段","children":[{"level":2,"title":"查看当前镜像源","slug":"查看当前镜像源","link":"#查看当前镜像源","children":[]},{"level":2,"title":"修改当前镜像源","slug":"修改当前镜像源","link":"#修改当前镜像源","children":[]},{"level":2,"title":"URL","slug":"url","link":"#url","children":[]},{"level":2,"title":"新增页面","slug":"新增页面","link":"#新增页面","children":[]},{"level":2,"title":"路由配置","slug":"路由配置","link":"#路由配置","children":[{"level":3,"title":"工具","slug":"工具","link":"#工具","children":[]},{"level":3,"title":"下载文件","slug":"下载文件","link":"#下载文件","children":[]}]},{"level":2,"title":"Saber中字典的分类","slug":"saber中字典的分类","link":"#saber中字典的分类","children":[]},{"level":2,"title":"字典的配置","slug":"字典的配置","link":"#字典的配置","children":[]},{"level":2,"title":"字典的使用","slug":"字典的使用","link":"#字典的使用","children":[{"level":4,"title":"相关属性","slug":"相关属性","link":"#相关属性","children":[]}]},{"level":2,"title":"使用npm","slug":"使用npm","link":"#使用npm","children":[]},{"level":2,"title":"使用 yarn","slug":"使用-yarn","link":"#使用-yarn","children":[]}]}],"relativePath":"articles/工作文档/项目/智慧楼宇/Vue2版/Saber-Vue2开发注意事项.md","filePath":"articles/工作文档/项目/智慧楼宇/Vue2版/Saber-Vue2开发注意事项.md"}'),e={name:"articles/工作文档/项目/智慧楼宇/Vue2版/Saber-Vue2开发注意事项.md"};function t(p,s,h,k,d,r){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="全局-改为-序号" tabindex="-1">全局“#”改为“序号” <a class="header-anchor" href="#全局-改为-序号" aria-label="Permalink to &quot;全局“#”改为“序号”&quot;">​</a></h1><p>在public ⇒ index.html中，查看引入的<code>avue</code>版本，在<code>cdn</code>文件夹中找到引入的对应版本，在其中查找<code>indexLabel:&quot;#&quot;</code>和<code>indexLabel||&quot;#&quot;</code>，将其中的“#”修改为“序号”即可。</p><p><em><strong>因为是用改源码的方式更改的内容，所以升级版本或更改版本的时候会需要重新更改</strong></em></p><h1 id="删除无用的参数" tabindex="-1">删除无用的参数 <a class="header-anchor" href="#删除无用的参数" aria-label="Permalink to &quot;删除无用的参数&quot;">​</a></h1><p>方法中经常出现无用的参数，记得及时删除，如：（只是示例）</p><div class="language-JavaScript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JavaScript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 其中loading就是未使用的参数，可以删除</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    rowSave</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(row, done, loading) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(row).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onLoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.page);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;操作成功!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        done</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span></code></pre></div><h1 id="字典" tabindex="-1">字典 <a class="header-anchor" href="#字典" aria-label="Permalink to &quot;字典&quot;">​</a></h1><ul><li>字典（Dict）在<code>config ⇒ env.js</code>中有公共的URL，可以在option的字典配置中直接写<code>businessDictUrl</code>或者<code>systemDictUrl</code>，而不用每次都写全部路径。 <ol><li>业务字典：<code>businessDictUrl</code></li><li>系统字典：<code>systemDictUrl</code></li></ol></li><li>字典的获取，应该使用<code>dict.js</code>和<code>dictbiz.js</code>中的方法，而不是新建接口方法</li></ul><h1 id="表格错位问题" tabindex="-1">表格错位问题 <a class="header-anchor" href="#表格错位问题" aria-label="Permalink to &quot;表格错位问题&quot;">​</a></h1><p><em>目前为止错位问题通常出现在更新表格结构时（更改表格头，动态设置column显隐等）</em></p><p>如果表格出现错位（如上下行错位、列错位等所有错位问题），都可能是数据更新但UI更新不及时导致的错乱，可以使用<code>this.$refs.crud.refreshTable()</code>来手动刷新表格。</p><h1 id="如何不登录-进入某页面-开发阶段" tabindex="-1">如何不登录，进入某页面（开发阶段） <a class="header-anchor" href="#如何不登录-进入某页面-开发阶段" aria-label="Permalink to &quot;如何不登录，进入某页面（开发阶段）&quot;">​</a></h1><ol><li>在<code>main.js</code>中，将引入的<code>permission</code>注释掉，<code>permission</code>中进行了<code>token</code>验证</li><li>在<code>src/router/views/index.js</code>中添加路由</li></ol><blockquote><p>使用npm自定镜像源，可能下载更新会比较慢，甚至失败，所以建议更换为国内的镜像源</p></blockquote><h2 id="查看当前镜像源" tabindex="-1">查看当前镜像源 <a class="header-anchor" href="#查看当前镜像源" aria-label="Permalink to &quot;查看当前镜像源&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span></span></code></pre></div><h2 id="修改当前镜像源" tabindex="-1">修改当前镜像源 <a class="header-anchor" href="#修改当前镜像源" aria-label="Permalink to &quot;修改当前镜像源&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://registry.npm.taobao.org/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://registry.npm.taobao.org/</span></span></code></pre></div><h2 id="url" tabindex="-1">URL <a class="header-anchor" href="#url" aria-label="Permalink to &quot;URL&quot;">​</a></h2><p>所有在<code>src =&gt; config =&gt; env.js</code>​中配置导出的<code>URL</code>​都被挂载导了全局属性中，可以在所有页面使用<code>this.xxx</code>​调用。如：<code>baseUrl</code>、\`\`</p><p>‍</p><h2 id="新增页面" tabindex="-1">新增页面 <a class="header-anchor" href="#新增页面" aria-label="Permalink to &quot;新增页面&quot;">​</a></h2><p>在新增页面时，在<code>src</code>​文件夹下找到<code>views</code>​或<code>page</code>​文件夹，<code>views</code>​是作为不同页面的集合，<code>page</code>​通常是页面的容器的或独立页面的集合，业务页面，基本都在<code>views</code>​文件夹</p><p>在<code>views</code>​文件夹新建文件夹，作为自己业务模块的文件夹，在文件夹中新建<code>vue</code>​页面；</p><p>如：在<code>views</code>​中新建一个<code>students</code>​的文件夹，在文件夹中新建了一个<code>studentsManagement.vue</code>​的文件夹作为学生管理的页面。</p><h2 id="路由配置" tabindex="-1">路由配置 <a class="header-anchor" href="#路由配置" aria-label="Permalink to &quot;路由配置&quot;">​</a></h2><ol><li>在新建<code>page</code>​的页面时，需要在<code>views =&gt; router =&gt; page</code>​文件夹下的<code>index.js</code>​中新增路由配置，具体请见<a href="https://v3.router.vuejs.org/zh/guide/" target="_blank" rel="noreferrer">VueRouter配置</a></li><li>新建<code>views</code>​业务页面时，需要进入系统，在左侧<code>系统设置 =&gt; 菜单设置</code>​中设置</li></ol><p>‍</p><h3 id="工具" tabindex="-1">工具 <a class="header-anchor" href="#工具" aria-label="Permalink to &quot;工具&quot;">​</a></h3><p>​<code>src =&gt; util</code>​中都是工具JS</p><ul><li><strong>date.js</strong> 包含格式化时间方法</li><li><strong>store.js</strong> 包含存取清除<code>sessionStorange</code>​和<code>localStorage</code>​的方法</li><li><strong>util.js</strong> 包含表单参数序列化、深克隆、生成随机数、根据字典<code>value</code>​查询<code>label</code>​等</li><li><strong>validate.js</strong> 包含身份证、手机、邮箱等验证方法</li></ul><p>‍</p><h3 id="下载文件" tabindex="-1">下载文件 <a class="header-anchor" href="#下载文件" aria-label="Permalink to &quot;下载文件&quot;">​</a></h3><p>​<code>this.downFile(url, name)</code>​</p><ul><li>url 下载文件的请求路径</li><li>name 保存的文件名称</li></ul><p>当表格中出现“类型”、“性别”等字眼时，通常会使用到字典，字典就是一个“数据库”；</p><p>我们拿到某一个值，在这个数据库中找到这个值对应的文字并显示出来（返回）</p><p><strong>例子：</strong></p><blockquote><p>我的表格中有一个“性别”字段，后端返回的<code>sex</code>​字段是<code>0</code>​、<code>1</code>​、<code>2</code>​这样的数字，我们需要根据返回的不同数据，显示不同的文字<code>0:女 1:男 2:保密</code>​；那么我们需要在表格自定一个<code>div</code>​，在<code>div</code>​中进行判断<code>data.sex == 0 ? &#39;女&#39; : data.sex == 1 ? &#39;男&#39; : &#39;保密&#39;</code>​（或者是在返回值中直接判断进行赋值）。</p><p>那么就可以使用字典来简化次项操作</p></blockquote><blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  3.template中使用getGender()，可以在页面显示getGender的返回值，即data.sex对应的label</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &lt;div&gt;{{getGender(data.sex)}}&lt;/div&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// data返回值</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1.首先在\`data\`中定义一个\`gender\`的数组，数组中保存着我们需要的数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gender</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;女&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;男&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;保密&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2.methods中定义一个从gender中查找sex对应label的函数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getGender</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sex) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.gender.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sex).label</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>可能在上面的例子看来，好像多做了一些事，还变的繁琐了，但是一旦当<code>gender</code>​中的值变成了7、8个甚至更多的时候，使用<code>三元表达式</code>​或者<code>if</code>​判断就会变得非常复杂，且代码看着会非常冗余，更不美观，使得可读性变差，封装后，代码可读性将会提高非常多；</p><p>并且在框架中更是封装好了这些操作，不需要我们去写<code>getGender()</code>​这种函数，字典的使用会变的更简单</p></blockquote><h2 id="saber中字典的分类" tabindex="-1">Saber中字典的分类 <a class="header-anchor" href="#saber中字典的分类" aria-label="Permalink to &quot;Saber中字典的分类&quot;">​</a></h2><ol><li><strong>系统字典</strong> 用于系统</li><li><strong>业务字典</strong> 用于主体业务，也是最常用的字典</li><li>特殊字典 其实不算作是字典，只不过用在了<code>dicUrl</code>​上，在某种情况下看作是字典的特定接口</li></ol><p>‍</p><h2 id="字典的配置" tabindex="-1">字典的配置 <a class="header-anchor" href="#字典的配置" aria-label="Permalink to &quot;字典的配置&quot;">​</a></h2><p>登录系统后，在左侧栏的最下方找到<code>系统设置 =&gt; 系统字典/业务字典</code>​，在这里对字典进行<code>增删改查</code>​</p><p>‍</p><h2 id="字典的使用" tabindex="-1">字典的使用 <a class="header-anchor" href="#字典的使用" aria-label="Permalink to &quot;字典的使用&quot;">​</a></h2><h4 id="相关属性" tabindex="-1">相关属性 <a class="header-anchor" href="#相关属性" aria-label="Permalink to &quot;相关属性&quot;">​</a></h4><ul><li><p><strong>dicData { Array } 字典数据</strong></p><p>大多在字典值写死或需要特殊处理时使用，例如：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// option配置</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;类型&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	prop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	dicData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// js处理数据</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">created</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// 请求字典数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	getTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> column</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.option.column, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// 可以在此处进行其他操作之后再进行下面的赋值操作</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        	column.dicData </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.data.data; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 设置字典数据dicData</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><strong>dicUrl { String } 网络字典的URL请求路径</strong></p><p>注意，此处是请求路径，所以，可以是<strong>任何get请求</strong>的路径</p><p><strong>例如：</strong></p><p>正常的字典请求路径可能是：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dicUrl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: baseUrl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/blade-system/dict/select&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // baseUrl是全局统一请求路径</span></span></code></pre></div><p>也可以是一个正常的get请求路径</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dicUrl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: baseUrl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/blade-system/type/types-list&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 获取一个types列表，大多数时候，需要配合props使用</span></span></code></pre></div></li><li><p><strong>props</strong></p><p><a href="https://avuejs.com/form/form-doc/#column-props" title="AVUE官网props参数定义" target="_blank" rel="noreferrer">AVUE官网props参数定义</a></p><ul><li><p><strong>label</strong></p></li><li><p><strong>value</strong></p></li><li><p><strong>children</strong></p></li><li><p><strong>disabled</strong></p></li><li><p><strong>res</strong></p></li><li><p><strong>例子1：</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// dicUrl的请求返回值是</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 这是我们需要的数组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;老五&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;123182039480&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        adult: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 是否成年</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;老六&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;123182039480&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        adult: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 是否成年</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ...more</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    pageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    total</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    current</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  msg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;操作成功&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">上面的返回值，并不能满足我们的默认值，因为默认是直接返回的数组，但是这个接口返回的是经过封装的对象，把真正需要的数组放到了data.record中</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">1.需要用res来指定数组所在的对象/属性：&#39;data.record&#39;（如果返回的数组是在data上，则不需要res指定）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">2.label，展示的属性默认是label，但是在返回的数组中没有，我们想要展示的是name，所以label的值应该是：&#39;name&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">3.value，同label，返回的数组中没有value，需要的是id，所以value的值应该是：&#39;id&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span></code></pre></div></li><li><p><strong>例子2：</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 借用例子1的返回值，我们需要对adult为true的人进行禁用，不允许选择</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 在label同级，设置disabled为&#39;adult&#39;，那么adult为true的人都会被禁用，无法选择</span></span></code></pre></div></li></ul><p>‍</p></li><li><p><strong>dicFormatter { Function } 字典数据格式化</strong></p><p>对字典数据进行操作后返回</p><p><strong>例子：</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dicFormatter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t.sortName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t.sort </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t.name);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div></li></ul><p>‍</p><h2 id="使用npm" tabindex="-1">使用npm <a class="header-anchor" href="#使用npm" aria-label="Permalink to &quot;使用npm&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 安装依赖</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> serve</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 启动项目</span></span></code></pre></div><h2 id="使用-yarn" tabindex="-1">使用 yarn <a class="header-anchor" href="#使用-yarn" aria-label="Permalink to &quot;使用 yarn&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 安装依赖</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> serve</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 启动项目</span></span></code></pre></div><blockquote><p><strong>Tips</strong> 如果安装依赖失败，尝试更换 <code>npm</code>​​​ 或 <code>yarn</code>​​​ 的源 [[Saber-Vue2开发注意事项]] <strong>NodeJS版本推荐14.x版本</strong></p></blockquote><p>‍</p>`,56)]))}const g=i(e,[["render",t]]);export{c as __pageData,g as default};
